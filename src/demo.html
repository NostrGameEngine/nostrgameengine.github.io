<x-page-noindex title="| Demo">
    <x-nostr></x-nostr>
    <h2 id="demo-id"> </h2>
    <p>
        You can download the native app for your platform, or try the web version below.
    </p>
    <nav>
        <a id="dl" href="https://github.com/NostrGameEngine"><ion-icon name="download-outline"></ion-icon>Download Native Build</a>
        <a id="src" href="https://github.com/NostrGameEngine"><ion-icon name="logo-github"></ion-icon>Source Code</a>
        <a href="/showcase.html"><ion-icon name="albums-outline"></ion-icon>See more Demos</a>
        <a href="/showcase.html"><ion-icon name="planet-outline"></ion-icon>Check out NGE</a>
    </nav>
    <div class="warning" id="noweb" style="display:none">
        This demo is not fully optimized for the web.
        <br>
        Performance may be poor on older / low-power hardware, throttled laptops, or browsers with limited WebGL2 support.
        <br>
        For the best experience (faster startup, better memory usage), download the native build from the link above.
    </div>
    <iframe id="webapp"
     style="width:100%; height:80vh; border:none"
        src="">
    </iframe>
 
    <script>
        window.addEventListener('load', (event) => {
            const params = new URLSearchParams(window.location.search);
            const demoId = params.get('id');
            if (!demoId || !/^[a-z0-9\-]+$/.test(demoId)) {
                window.location.href = '/showcase.html';
                return;
            } else {
                document.getElementById('demo-id').innerText = demoId;
                document.getElementById('src').href = "https://github.com/NostrGameEngine/" + demoId;
                document.getElementById('dl').href = "https://github.com/NostrGameEngine/" + demoId + "/releases";
                const frame = document.getElementById('webapp');
                frame.src = "https://ngengine.org/" + demoId;
               
            }
            const noWeb = params.get('noweb');
            if (noWeb === '1') {
                document.getElementById('noweb').style.display = 'block';

            }
        });
    </script>


</x-page-noindex>